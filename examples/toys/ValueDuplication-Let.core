-- Inspect the output code: if it contains any allocations for the True constructor
-- values have been duplicated. We want to avoid the duplication while still contracting the
-- redundant case analysis within each component of the pair.
root x = let x = True in (if x then Just x else Just True, if x then Just False else Just x)

tests = [
    (root True, (Just True, Just False)),
    (root False, (Just True, Just False))
  ]